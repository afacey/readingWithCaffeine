(this["webpackJsonpreading-with-caffeine"]=this["webpackJsonpreading-with-caffeine"]||[]).push([[0],{31:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAjCAMAAACw/5reAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACN1BMVEUAAAD////////////////////////////////////////////v7++tra2JiYlvb290dHSOjo6zs7P///////////////9HR0dPT0/Gxsb////////Z2dlFRUXr6+v///////////////+5ubk2NjbMzMz///////+1tbXQ0ND////Z2dn///////9BQUFbW1v///////+wsLDU1NRCQkJZWVn////r6+s1NTX///+mpqbJycn///96enpiYmKJiYlbW1uAgIBycnKampr///+cnJzLy8v////////f39/8/Pz///8+Pj5RUVH///+enp7Q0ND////8/Pw6OjpMTEza2to1NTXr6+v///+enp6+vr59fX2ioqL///////9dXV1/f39KSkpiYmL////////19fU+Pj5MTEz////////q6uo4ODhAQEDa2to1NTU5OTn////IyMjb29utra2QkJCxsbH///9ubm6QkJD////////////19fU1BIJTU1OVlZW8vLzPz8/MzMy5ubmMjIxNTU1WVlbFxcW1tbV/f3/8/Pz8/fzD4cONxo1zuXNwt3DA38Dy8vJsbGyCgoLG48ZNpk1JpElgYGCj0aOZzJmz2bOysrJmZmb5/PlDoUPy+fJJSUmlpaWp1KnS0tLl5eVQp1Dp6enV1dVptGlms2avr6+gz6CWy5bs9ezi8eJQUFDc3NzCwsJttm35+fmZmZmJxImGw4Z8fHzZ7NlTqVNpaWldXV1jY2PESMtOAAAAe3RSTlMAJG+vx9/Dq2ccQ8v72s7KzM/cuzgYv9jU5Azn69r01yg899rr4+sg2OIQ6KNT2co029Ti08iD8e1jyNbjw8DAxrnDwNPDz7Of5/dP1sQIyM57+9fI2urt+7/Tu8lHf77DxcQEt/TOzJvP6dzU3enh79DhxbzN87nFj4vn4uPFAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+QMEg0bNhC1THEAAAABb3JOVAHPoneaAAACEElEQVQoz3XTZ1sTQRQF4DFmiYqVEEVQCKjYiL2BvaMoaizEhiVgF3s9HjEBERICEokKViRYsGGLoP44ZyH7ZAflfJq77zNld+8IYWSQZbBV05JsQ4aK/hmWjOEjRo4aPSblFuypCjnGImUc40kbD1t6wlIzJkykKWmZWU7DsnMm6Y9uV97x+auq78rh5Cm5cZ2aMU3WNfcQT63O07Nm9KJ1pizqAgjWhxoaQ/eDaArLuZl5urkwi3wANEf6NnzYjIDU2Zgjce488lEAjxPnaUGTXHm+XZ4GC0gf6s2nbcUTciEcYtFi8imePTcjX+AllwTyhbWAbEOrYnyFanJpnli2nGxHg4qNqCULkgRWkFF0qNgBP7lSE1hFvkZExYiOqzWRs4Z8g7cqvkMVudYq1q0nO/FexQ+oJDdsFIWbyDA+qvgJn8nNFlGELWQXWswWwhdyK5yiOGObPjX41bRj8FsNud0qv+0O907yO4I/DIsF8ZPchSKJxdpu6oruWA/ZE+tGoI7cU2LvaxLPXqm/uoyf7f8ty3258SbMx359uXBnezTqa/ujjw94DhpNVIpD6qscRn6i/QrdR8x2FKWmvvWWlR9L2HH3CaWr00+eOm3YmfIyr3odHNrZij47V5KcLvrFef5Cr1Vc1Bz/3CTZ95d61eh1NS5cJq9czRb/jQXXrntcYoDcACwDmfDabir1X3Q9NN8k6DniAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTEyLTE4VDEzOjI3OjU0KzAwOjAwzyAKPgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0xMi0xOFQxMzoyNzo1NCswMDowML59soIAAAAASUVORK5CYII="},33:function(e,t,a){e.exports=a(63)},38:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),i=a.n(o),c=a(6),l=a(7),s=a(10),u=a(8),p=(a(38),function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"wrapper headerFlex"},r.a.createElement("h1",null,"Reading With",r.a.createElement("span",{className:"caffeine animate__animated animate__bounceIn"},"Caffeine"))))}),m=function(){return r.a.createElement("section",{className:"instructionsSection"},r.a.createElement("h2",null,"Instructions"),r.a.createElement("p",null,"Picking up books from your local library? Use this tool to locate a coffee shop nearby where you can relax and read in peace."),r.a.createElement("ol",null,r.a.createElement("li",null,"Enter your library, set your preferred distance, and click GO!"),r.a.createElement("li",null,"A map will appear with a list of 10 coffee shops around the library."),r.a.createElement("li",null,"Select your preferred coffee shop from the list and choose a mode of transportation to get directions.")))},d=a(12),f=a(2),h=a(9),E=a(4),y=a.n(E),b=a(15),v=a.n(b),g="dgYN9vqDVgOBOwNtvPlR14jKSxdi9dVa",S=function(e,t){var a=e.latitude,n=e.longitude,r=e.radius,o=t.reduce((function(e,t,a){var n=Object(d.a)(t.place.geometry.coordinates,2),r=n[0],o=n[1];return e+="".concat(o,",").concat(r,"|marker-md-").concat(a+1,"||")}),""),i="".concat(a,",").concat(n,"|marker-md-350482||");return"https://www.mapquestapi.com/staticmap/v5/map?key=".concat(g,"&scalebar=true|bottom&locations=").concat(i).concat(o,"&size=500,600&type=light&shape=radius:").concat(r,"km|").concat(a,",").concat(n)},A=a(3);function O(e){for(var t=Object(h.a)(e),a=t.length-1;a>0;a--){var n=Math.floor(Math.random()*(a+1)),r=t[a];t[a]=t[n],t[n]=r}return t}var N=function(e){return function(t){(function(e){var t=e.longitude,a=e.latitude,n=e.radius;return v()({url:"https://www.mapquestapi.com/search/v4/place",params:{key:g,circle:"".concat(t,",").concat(a,",").concat(1e3*n),sort:"relevance",q:"Coffee Shop",pageSize:50}})})(e).then((function(a){var n=a.data.results;if(0===n.length)throw new Error("No coffee shops found");var r=O(n);r.splice(10),t({type:"GET_COFFEE_SHOPS",payload:{all:n,list:r,map:S(e,r)}})})).catch((function(e){y.a.fire({title:"No coffee shops found",text:"Try searching for another location or increasing the maximum distance",icon:"warning",confirmButtonText:"OK"})}))}},C=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleLibraryInputChange=function(e){n.state.showSuggestions||n.setState({showSuggestions:!0});var t=e.target.value;t.length>3&&0===n.state.autoComplete.length?n.setState({libraryInput:t}):n.setState({libraryInput:t},n.getPredictiveSearch)},n.handleRadiusSelected=function(e){var t=parseInt(e.target.value,10);n.setState({selectedRadius:t})},n.getPredictiveSearch=function(){var e,t=n.state.libraryInput;(null===t||void 0===t?void 0:t.length)>=3&&(null===t||void 0===t?void 0:t.length)<25?(e=t,e.length>=3&&e.length<50?v()({url:"https://www.mapquestapi.com/search/v3/prediction",params:{q:e,collection:"poi",key:g}}):Promise.reject("Input value is less than 3 charactors or greater than 50 charactors")).then((function(e){n.setState({autoComplete:Object(h.a)(e.data.results)})})).catch((function(e){y.a.fire({title:"Oops!",text:"There was an error! ".concat(e,". Try searching at a later time."),icon:"warning",confirmButtonText:"OK"})})):t.length<3&&n.setState({showSuggestions:!1})},n.validateFormValues=function(){var e=n.state,t=e.libraryInput,a=e.selectedLibrary,r=e.selectedRadius;return""===t||t!==(null===a||void 0===a?void 0:a.name)?(y.a.fire({title:"Unable to search for coffee shops",text:"Location input must be valid",icon:"warning",confirmButtonText:"OK"}),!1):r<1||r>20?(y.a.fire({title:"Unable to search for coffee shops",text:"Maximum distance must be a value between 1 and 20.",icon:"warning",confirmButtonText:"OK"}),!1):!!a.name||(y.a.fire({title:"Unable to search for coffee shops",text:"A location must be selected",icon:"warning",confirmButtonText:"OK"}),!1)},n.handleFormSubmit=function(e){if(e.preventDefault(),n.validateFormValues()){var t=n.state,a=t.selectedLibrary,r=t.selectedRadius;if(!(null===a||void 0===a?void 0:a.name))return!1;var o=Object(f.a)(Object(f.a)({},a),{},{radius:r});JSON.stringify(o)===JSON.stringify(n.props.library)?n.props.dispatch((i=o,c=n.props.coffeeShops.all,function(e){var t=O(c).splice(0,10);e({type:"RANDOMIZE_COFFEE_SHOPS",payload:{list:t,map:S(i,t)}})})):(n.props.dispatch({type:"SET_LIBRARY",payload:o}),n.props.dispatch(N(o)))}var i,c},n.handleLibraryInputSelected=function(e){var t=e.target.value,a=n.state.autoComplete.filter((function(e){return e.name===t})),r=Object(d.a)(a,1)[0],o=r.name,i=r.displayString,c=Object(d.a)(r.place.geometry.coordinates,2),l=c[0],s={name:o,latitude:c[1],longitude:l,address:i.split("".concat(o,", "))[1]};n.setState({libraryInput:o,selectedLibrary:s,showSuggestions:!1})},n.state={libraryInput:"",selectedLibrary:null,selectedRadius:5,autoComplete:[],showSuggestions:!1},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.handleLibraryInputChange,a=this.handleRadiusSelected,n=this.handleFormSubmit,o=this.handleLibraryInputSelected,i=this.state,c=i.libraryInput,l=i.selectedRadius,s=i.showSuggestions,u=i.autoComplete;return r.a.createElement("form",{id:"form",action:"submit"},r.a.createElement("div",{className:"formTopSection"},r.a.createElement("label",{htmlFor:"inputLocation"},"Find Library"),r.a.createElement("div",{className:"inputLocationContainer"},r.a.createElement("input",{type:"text",id:"inputLocation",className:"inputLocation",value:c,onChange:t,placeholder:"",autoComplete:"off"}),s&&r.a.createElement("ul",{className:"inputLocationAutoComplete"},u.length?u.map((function(e){return r.a.createElement("li",{key:e.id,className:"autoCompleteResults"},r.a.createElement("button",{type:"button",key:e.id,onClick:o,value:e.name},e.name))})):r.a.createElement("li",{className:"autoCompleteResults"},r.a.createElement("button",{type:"button",onClick:function(){return e.setState({libraryInput:"",showSuggestions:!1})}},"No results found. Click to clear search."))))),r.a.createElement("div",{className:"formBottomSection"},r.a.createElement("label",{htmlFor:"inputRadius"},"Maximum distance ",r.a.createElement("span",null,"(1 - 20km)")),r.a.createElement("input",{type:"number",id:"inputRadius",className:"inputRadius",min:"1",max:"20",value:l,onChange:a,placeholder:"",autoComplete:"off",required:!0}),r.a.createElement("button",{className:"formSubmitButton",type:"submit",onClick:n},"Go")))}}]),a}(n.Component),T=Object(A.b)((function(e){return{library:e.library,coffeeShops:e.coffeeShops}}))(C),w=function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"wrapper footerFlex"},r.a.createElement("div",{className:"creators"},r.a.createElement("p",null,"Created by Andre Facey + Connie Tsang + Kristen Delorey + Raphael Roques at ",r.a.createElement("a",{href:"https://junocollege.com/"},"Juno College"))),r.a.createElement("div",{className:"photoCredit"},r.a.createElement("p",null,"Image by Thomas Park / Unsplash"))))},j=a(19),I=a.n(j),k=a(30),D=a(31),R=a.n(D),x=Object(A.b)((function(e){return{coffeeShops:e.coffeeShops.list,library:e.library}}))((function(e){var t=e.library,a=e.coffeeShops,n=e.handleCoffeeShopSelected;return r.a.createElement("div",{className:"coffeeShops"},r.a.createElement("h2",null,"Coffee Shops In The Area:"),r.a.createElement("div",{className:"library"},r.a.createElement("img",{className:"markerImg",src:R.a,alt:""}),r.a.createElement("div",null,r.a.createElement("p",{className:"libraryName"},t.name),r.a.createElement("p",{className:"libraryAddress"},t.address))),r.a.createElement("ol",{className:"coffeeShopsContainer"},a.map((function(e,t){return r.a.createElement("li",{key:e.id},r.a.createElement("button",{className:"coffeeShopButton",type:"button",key:e.id,onClick:n,value:e.id},r.a.createElement("div",{className:"coffeeShopNumber"},r.a.createElement("p",null,t+1)),r.a.createElement("div",{className:"coffeeShopText"},r.a.createElement("h3",null,e.name),r.a.createElement("p",null,e.place.properties.street))))}))))})),L=Object(A.b)((function(e){return{directions:e.directions}}))((function(e){var t=e.directions,a=e.handleBackButton;return r.a.createElement("div",{className:"transportationAndDirections"},r.a.createElement("button",{className:"transportationButton",onClick:a},"\u2b05 to Coffee Shops"),r.a.createElement("h2",null,"Directions to:"),r.a.createElement("div",{className:"coffeeShop"},r.a.createElement("p",{className:"coffeeShopName"},t.location.name),r.a.createElement("p",{className:"coffeeShopAddress"},t.location.address)),r.a.createElement("div",{className:"directionMarkers","aria-hidden":"true"},r.a.createElement("div",{className:"directionMarkerContainer"},r.a.createElement("img",{src:"https://assets.mapquestapi.com/icon/v2/marker-start.png",alt:""}),r.a.createElement("p",null,"Start")),r.a.createElement("div",{className:"directionMarkerContainer"},r.a.createElement("img",{src:"https://assets.mapquestapi.com/icon/v2/marker-end.png",alt:""}),r.a.createElement("p",null,"End"))),r.a.createElement("div",{className:"modeOfTransportationInputContainer"},r.a.createElement("label",{htmlFor:"modeOfTransportation"},"Choose a mode of transportation:"),r.a.createElement("select",{id:"modeOfTransportation",value:t.mode,onChange:function(t){return e.dispatch({type:"SET_DIRECTIONS_MODE",payload:t.target.value})}},r.a.createElement("option",{value:"fastest"},"Drive"),r.a.createElement("option",{value:"pedestrian"},"Walk"),r.a.createElement("option",{value:"bicycle"},"Bike"))),r.a.createElement("ol",{className:"directionsToCoffeeShopOl"},t.instructions.map((function(e,t){return r.a.createElement("li",{key:t},e)}))))})),F=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleBackButton=function(){return n.setState({displayDirections:!1})},n.handleCoffeeShopSelected=function(e){var t=e.currentTarget.value,a=n.props.coffeeShops.reduce((function(e,a){return a.id===t&&(e={name:a.name,longitude:a.place.geometry.coordinates[0],latitude:a.place.geometry.coordinates[1],address:a.displayString.split("".concat(a.name,", "))[1]}),e}),{});JSON.stringify(a)!==JSON.stringify(n.props.selectedCoffeeShop)?n.props.dispatch({type:"SET_DIRECTIONS_LOCATION",payload:a}):n.setState({displayDirections:!0})},n.getSelectedTransportation=Object(k.a)(I.a.mark((function e(){var t,a,r,o,i,c,l,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.selectedLibrary,r=t.selectedCoffeeShop,o=t.modeType,e.prev=1,e.next=4,p=a,m=r,d=o,v()({url:"https://www.mapquestapi.com/directions/v2/route",params:{key:g,from:"".concat(p.latitude,",").concat(p.longitude),to:"".concat(m.latitude,",").concat(m.longitude),routeType:d,scalebar:"true|bottom",size:"600,600",type:"light"}});case 4:i=e.sent,c=i.data.route.legs[0].maneuvers,l=c.map((function(e){return e.narrative})),s=i.data.route.sessionId,n.props.dispatch({type:"SET_DIRECTIONS_INSTRUCTIONS",payload:{instructions:Object(h.a)(l),session:s,map:(u=s,"https://www.mapquestapi.com/staticmap/v5/map?session=".concat(u,"&key=").concat(g,"&scalebar=true|bottom&size=500,600&type=light&traffic=flow|cons|inc"))}}),n.setState({displayDirections:!0}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),y.a.fire({title:"Oops!",text:"There was an error retrieving the directions. Please try again later.",icon:"warning",confirmButtonText:"Okay"});case 15:case"end":return e.stop()}var u,p,m,d}),e,null,[[1,12]])}))),n.state={displayDirections:!1,isLoading:!0},n}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){(e.modeType===this.props.modeType&&JSON.stringify(e.selectedCoffeeShop)===JSON.stringify(this.props.selectedCoffeeShop)||this.setState({isLoading:!0},this.getSelectedTransportation),!1===function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}(e.coffeeShops,this.props.coffeeShops)&&this.setState({displayDirections:!1,isLoading:!0}),this.props.coffeeShops&&this.props.coffeeShops.length>0)&&document.querySelector("#mapAndResults").scrollIntoView()}},{key:"render",value:function(){var e=this,t=this.props,a=t.coffeeShops,n=t.radiusMap,o=t.directionsMap;return r.a.createElement(r.a.Fragment,null,a.length>0?r.a.createElement("div",{className:"mapAndCoffeeShopBackground",id:"mapAndResults"},r.a.createElement("div",{className:"mapAndCoffeeShopContainer wrapper"},r.a.createElement("div",{className:"map"},this.state.isLoading&&r.a.createElement("div",{className:"spinnerContainer"},r.a.createElement("div",{className:"loadingSpinner"})),r.a.createElement("img",{src:this.state.displayDirections?o:n,onLoad:function(){return e.setState({isLoading:!1})},alt:"map of selected library and coffee shops"})),this.state.displayDirections?r.a.createElement(L,{handleBackButton:this.handleBackButton}):r.a.createElement(x,{handleCoffeeShopSelected:this.handleCoffeeShopSelected}))):null)}}]),a}(n.Component),z=Object(A.b)((function(e){return{coffeeShops:e.coffeeShops.list,radiusMap:e.coffeeShops.map,directionsMap:e.directions.map,selectedLibrary:e.library,selectedCoffeeShop:e.directions.location,modeType:e.directions.mode}}))(F),B=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("a",{href:"#form",className:"skipLink"},"Skip to main"),r.a.createElement(p,null),r.a.createElement("main",{className:"mainContainer"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(m,null),r.a.createElement(T,null)),r.a.createElement(z,null)),r.a.createElement(w,null))}}]),a}(n.Component),M=a(5),J=a(32),P={name:"",latitude:"",longitude:"",radius:""},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIBRARY":return t.payload;default:return e}},q={all:[],list:[],map:""},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_COFFEE_SHOPS":return t.payload;case"RANDOMIZE_COFFEE_SHOPS":if(e.all.length>0)return Object(f.a)(Object(f.a)({},e),t.payload);break;default:return e}},Q={session:"",location:{},map:"",instructions:[],mode:"fastest"},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DIRECTIONS_INSTRUCTIONS":return Object(f.a)(Object(f.a)({},e),t.payload);case"SET_DIRECTIONS_LOCATION":return Object(f.a)(Object(f.a)({},e),{},{location:t.payload});case"SET_DIRECTIONS_MODE":return Object(f.a)(Object(f.a)({},e),{},{mode:t.payload});default:return e}},_=Object(M.c)({library:U,coffeeShops:V,directions:Z}),W=[J.a],K=window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||M.d,G=Object(M.e)(_,{},K(M.a.apply(void 0,W)));i.a.render(r.a.createElement(A.a,{store:G},r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null))),document.getElementById("root"))}},[[33,1,2]]]);